export const state = () => ({
  menu: [
    {
      "Id": 18876,
      "DomainId": 1315,
      "Srl": 1,
      "Link": "page|24007650",
      "Title": "CEGEMA",
      "ParentId": null,
      "MenuId": "main",
      "children": [{
        "Id": 18877,
        "DomainId": 1315,
        "Srl": 1,
        "Link": "page|24007522",
        "Title": "Über uns",
        "ParentId": 18876,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18878,
        "DomainId": 1315,
        "Srl": 2,
        "Link": "page|24007579",
        "Title": "Videos",
        "ParentId": 18876,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18879,
        "DomainId": 1315,
        "Srl": 3,
        "Link": "page|24007533",
        "Title": "Partner",
        "ParentId": 18876,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18880,
        "DomainId": 1315,
        "Srl": 4,
        "Link": "page|24007575",
        "Title": "News-Blog",
        "ParentId": 18876,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 19495,
        "DomainId": 1315,
        "Srl": 5,
        "Link": "page|24008171",
        "Title": "Jobs",
        "ParentId": 18876,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 19700,
        "DomainId": 1315,
        "Srl": 6,
        "Link": "page|24008446",
        "Title": "Unsere Marken",
        "ParentId": 18876,
        "MenuId": "main",
        "children": []
      }]
    }, {
      "Id": 18887,
      "DomainId": 1315,
      "Srl": 2,
      "Link": "page|24007853",
      "Title": "Vermietung",
      "ParentId": null,
      "MenuId": "main",
      "children": []
    }, {
      "Id": 18904,
      "DomainId": 1315,
      "Srl": 3,
      "Link": "page|24007536",
      "Title": "Verkauf: neu",
      "ParentId": null,
      "MenuId": "main",
      "children": [{
        "Id": 18905,
        "DomainId": 1315,
        "Srl": 1,
        "Link": "page|24007536",
        "Title": "I Übersicht I",
        "ParentId": 18904,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 19345,
        "DomainId": 1315,
        "Srl": 2,
        "Link": "page|24008039",
        "Title": "Stapler Konfigurator",
        "ParentId": 18904,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18906,
        "DomainId": 1315,
        "Srl": 3,
        "Link": "page|24007578",
        "Title": "Gabelstapler",
        "ParentId": 18904,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18907,
        "DomainId": 1315,
        "Srl": 4,
        "Link": "page|24007603",
        "Title": "Arbeitsbühnen",
        "ParentId": 18904,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18908,
        "DomainId": 1315,
        "Srl": 5,
        "Link": "page|24007544",
        "Title": "Teleskopstapler",
        "ParentId": 18904,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18909,
        "DomainId": 1315,
        "Srl": 6,
        "Link": "page|24007623",
        "Title": "Lagertechnik",
        "ParentId": 18904,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18910,
        "DomainId": 1315,
        "Srl": 7,
        "Link": "page|24007624",
        "Title": "Handhubwagen",
        "ParentId": 18904,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18911,
        "DomainId": 1315,
        "Srl": 8,
        "Link": "page|24007542",
        "Title": "Anbaugeräte",
        "ParentId": 18904,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18912,
        "DomainId": 1315,
        "Srl": 9,
        "Link": "url|http://staplerbatterie.cegema.de/",
        "Title": "Staplerbatterien",
        "ParentId": 18904,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18983,
        "DomainId": 1315,
        "Srl": 10,
        "Link": "page|24007540",
        "Title": "Finanzierung",
        "ParentId": 18904,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18916,
        "DomainId": 1315,
        "Srl": 11,
        "Link": "page|24007616",
        "Title": "| Direkt-Verkaufsanfrage |",
        "ParentId": 18904,
        "MenuId": "main",
        "children": []
      }]
    }, {
      "Id": 18918,
      "DomainId": 1315,
      "Srl": 4,
      "Link": "page|24007614",
      "Title": "Verkauf: gebraucht",
      "ParentId": null,
      "MenuId": "main",
      "children": [{
        "Id": 18919,
        "DomainId": 1315,
        "Srl": 1,
        "Link": "page|24007614",
        "Title": "| Übersicht |",
        "ParentId": 18918,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18920,
        "DomainId": 1315,
        "Srl": 2,
        "Link": "page|24007535",
        "Title": "Gabelstapler",
        "ParentId": 18918,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18921,
        "DomainId": 1315,
        "Srl": 3,
        "Link": "page|24007615",
        "Title": "Arbeitsbühnen",
        "ParentId": 18918,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18922,
        "DomainId": 1315,
        "Srl": 4,
        "Link": "page|24007604",
        "Title": "Teleskopstapler",
        "ParentId": 18918,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18923,
        "DomainId": 1315,
        "Srl": 5,
        "Link": "page|24007605",
        "Title": "Hubwagen",
        "ParentId": 18918,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18924,
        "DomainId": 1315,
        "Srl": 6,
        "Link": "page|24007616",
        "Title": "| Direkt-Verkaufsanfrage |",
        "ParentId": 18918,
        "MenuId": "main",
        "children": []
      }]
    }, {
      "Id": 18925,
      "DomainId": 1315,
      "Srl": 5,
      "Link": "page|24007638",
      "Title": "Service",
      "ParentId": null,
      "MenuId": "main",
      "children": [{
        "Id": 18926,
        "DomainId": 1315,
        "Srl": 1,
        "Link": "page|24007638",
        "Title": "I Service-Übersicht I",
        "ParentId": 18925,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18927,
        "DomainId": 1315,
        "Srl": 2,
        "Link": "page|24007524",
        "Title": "UVV-Prüfung",
        "ParentId": 18925,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18943,
        "DomainId": 1315,
        "Srl": 3,
        "Link": "page|24007527",
        "Title": "Ersatzteile",
        "ParentId": 18925,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18981,
        "DomainId": 1315,
        "Srl": 4,
        "Link": "page|24007528",
        "Title": "Reifenservice",
        "ParentId": 18925,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18957,
        "DomainId": 1315,
        "Srl": 5,
        "Link": "page|24007629",
        "Title": "Havarieservice",
        "ParentId": 18925,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18932,
        "DomainId": 1315,
        "Srl": 6,
        "Link": "page|24008011",
        "Title": "Wartung | Reparatur | Werkstatt",
        "ParentId": 18925,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18968,
        "DomainId": 1315,
        "Srl": 7,
        "Link": "page|24008013",
        "Title": "Nachrüstung | Umbau | Anbaugeräte",
        "ParentId": 18925,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18973,
        "DomainId": 1315,
        "Srl": 8,
        "Link": "page|24007632",
        "Title": "Rußpartikelfilter-Service",
        "ParentId": 18925,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 19336,
        "DomainId": 1315,
        "Srl": 9,
        "Link": "page|24007588",
        "Title": "Tortechnik-Service",
        "ParentId": 18925,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18984,
        "DomainId": 1315,
        "Srl": 10,
        "Link": "page|24007598",
        "Title": "| Direkt Serviceanfrage |",
        "ParentId": 18925,
        "MenuId": "main",
        "children": []
      }]
    }, {
      "Id": 18986,
      "DomainId": 1315,
      "Srl": 6,
      "Link": "page|24007591",
      "Title": "Schulungen",
      "ParentId": null,
      "MenuId": "main",
      "children": [{
        "Id": 18987,
        "DomainId": 1315,
        "Srl": 1,
        "Link": "page|24007591",
        "Title": "I Übersicht I",
        "ParentId": 18986,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18988,
        "DomainId": 1315,
        "Srl": 2,
        "Link": "page|24007592",
        "Title": "für Frontstapler",
        "ParentId": 18986,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18989,
        "DomainId": 1315,
        "Srl": 3,
        "Link": "page|24007593",
        "Title": "für Teleskopstapler",
        "ParentId": 18986,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18990,
        "DomainId": 1315,
        "Srl": 4,
        "Link": "page|24007594",
        "Title": "für Lagertechnik",
        "ParentId": 18986,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 18991,
        "DomainId": 1315,
        "Srl": 5,
        "Link": "page|24007595",
        "Title": "für Arbeitsbühnen",
        "ParentId": 18986,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 19697,
        "DomainId": 1315,
        "Srl": 6,
        "Link": "page|24008428",
        "Title": "IPAF-Schulungszentrum",
        "ParentId": 18986,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 19353,
        "DomainId": 1315,
        "Srl": 7,
        "Link": "page|24007596",
        "Title": "Jährliche Unterweisung",
        "ParentId": 18986,
        "MenuId": "main",
        "children": []
      }, {
        "Id": 19347,
        "DomainId": 1315,
        "Srl": 8,
        "Link": "page|24007537",
        "Title": "| Schulung Direktanfrage |",
        "ParentId": 18986,
        "MenuId": "main",
        "children": []
      }]
    }, {
      "Id": 18994,
      "DomainId": 1315,
      "Srl": 7,
      "Link": "page|24008039",
      "Title": "StaplerKonfi",
      "ParentId": null,
      "MenuId": "main",
      "children": []
    }, {
      "Id": 19335,
      "DomainId": 1315,
      "Srl": 8,
      "Link": "page|24008004",
      "Title": "RegioSektionen",
      "ParentId": null,
      "MenuId": "main",
      "children": []
    }, {
      "Id": 18995,
      "DomainId": 1315,
      "Srl": 9,
      "Link": "page|24007534",
      "Title": "Kontakt",
      "ParentId": null,
      "MenuId": "main",
      "children": []
    }],
  products: [],
  loading: false,
  product: {},
  error: '',
  page: 1,
  url: ''
});

export const mutations = {
  setLoading(state, loading) {
    state.loading = loading
  },
  setProducts(state, products) {
    state.products = products
  },
  setProduct(state, product) {
    state.product = product
  },
  setError(state, error) {
    state.error = error
  },
  setPageIndex(state, page) {
    state.page = page
  },
  setMenu(state, menu) {
    state.menu = menu
  },
  setTestMenu(state, menu) {
    state.menuTest = menu
  }
};

export const actions = {
  async getProducts({state, commit}) {
    commit('setLoading', true);
    commit('setError', '');
    try {
      const {data} = await this.$axios.get('https://api.predic8.de:443/shop/products/?limit=12', {params: {page: state.page}});
      commit('setProducts', data);
    } catch (e) {
      commit('setError', e.message)
    }
    commit('setLoading', false);
  },
  async getProduct({state, commit}, id) {
    commit('setLoading', true);
    commit('setError', '');
    try {
      const {data} = await this.$axios.get(`https://api.predic8.de:443/shop/products/${id}`);
      commit('setProduct', data);
    } catch (e) {
      commit('setError', e.message)
    }
    commit('setLoading', false);
  }
};
